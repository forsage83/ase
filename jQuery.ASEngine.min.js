/* ------------------------------------------------------------------------
 Aura Slider Engine ( https://github.com/mrgambal/ase )

 Simple, lightweight and flexible slider engine based on css animation abilities.
 Destination of this slider (and it major advantage) - just to change classes
 on items inside container. You could use all available css-powers to realize
 slider-effect of your dreams.

 Authors: 
 	JS-jedi: Dmitry Gambal ( https://github.com/mrgambal )
 	CSS-jedi: Dmitry Nechepurenko ( https://github.com/dimanech )

 Inspired By: My Friend Dmitry Nechepurenko and some existing solutions

 Dependencies: 
 	jQuery >= 1.7.2
 	jQuery Mobile (if you want to handle swipe events on mobile devices)

 Version: 1.0

 Copyright: Published under MIT License (see LICENSE.txt). Feel free to redistribute 
            the script/modify it, as long as you leave my info at the top.

 ------------------------------------------------------------------------- */
!function(a){"use strict";function b(a,b){this.init(a,b)}b.prototype={__container:null,__current:null,__curIndex:null,__eventNS:".ASEngine",__indexInArray:0,__pgnClass:"js-ase__pagination__item",__pgnContainer:null,__timerID:0,items:null,options:{},defaultOptions:{itemsSelector:".js-ase__item",prevCtrl:null,nextCtrl:null,swipeCtrl:null,nextClass:"js-ase__item_next",currentClass:"js-ase__item_active",prevClass:"js-ase__item_prev",onMove:function(){},onNext:function(){},onPrev:function(){},autoplay:!1,autoplayDelay:15e3},__addEventHandlers:function(){var a=this,b=a.options,c=function(a){var b=a.href||(a.attributes["data-href"]?a.attributes["data-href"].value:"");return""!==b&(b!==location.href&&b.indexOf(location.href+"#")<0)},d=function(d){c(this)||(d.preventDefault(),a.goPrev.call(a,!0),"function"==typeof b.onPrev&&b.onPrev.call(a.__getPseudoObject()),"function"==typeof b.onMove&&b.onMove.call(a.__getPseudoObject()))},e=function(d){c(this)||(d.preventDefault(),a.goNext.call(a,!0),"function"==typeof b.onNext&&b.onNext.call(a.__getPseudoObject()),"function"==typeof b.onMove&&b.onMove.call(a.__getPseudoObject()))};return 0===a.items.length?a:(b.prevCtrl&&b.prevCtrl.length&&b.prevCtrl.on("click"+a.__eventNS,d),b.nextCtrl&&b.nextCtrl.length&&b.nextCtrl.on("click"+a.__eventNS,e),b.autoplay?a.setAutoplay():a.stopAutoplay(),b.swipeCtrl&&b.swipeCtrl.length&&b.swipeCtrl.on("swipeleft"+a.__eventNS,e).on("swiperight"+a.__eventNS,d),a.__container.on("mouseenter"+a.__eventNS,function(){a.__timerID&&clearInterval(a.__timerID)}).on("mouseleave"+a.__eventNS,function(){b.autoplay&&a.setAutoplay.call(a)}),a)},__changePaginationLink:function(a,b){var c=this,d=c.__pgnClass+"_active";return a++,b++,c.__pgnContainer.find("."+d).removeClass(d),c.__pgnContainer.removeClass(c.__pgnClass+"_p"+b).addClass(c.__pgnClass+"_p"+a).find("a[data-href=#"+a+"]")[0].className+=" "+d,c},__getPseudoObject:function(){return{goNext:this.goNext,goPrev:this.goPrev,goTo:this.goTo,index:this.__curIndex,items:this.items,options:this.options,reinit:this.init,setAutoplay:this.setAutoplay,stopAutoplay:this.stopAutoplay}},__nextIndex:function(a,b){var c=this;return a===c.__curIndex?0:(a>c.items.length-1?(b||(c.__curIndex=-1),a=0):0>a&&(b||(c.__curIndex=c.items.length),a=c.items.length-1),a)},__removeEventHandlers:function(){var a=this,b=a.options;return b.prevCtrl&&b.prevCtrl.length&&b.prevCtrl.off(a.__eventNS),b.nextCtrl&&b.nextCtrl.length&&b.nextCtrl.off(a.__eventNS),b.swipeCtrl&&b.swipeCtrl.length&&b.swipeCtrl.off(a.__eventNS),a.__pgnContainer&&a.__pgnContainer.find("."+a.__pgnClass).off(a.__eventNS),a.__container.off(a.__eventNS),a},addPagination:function(b,c,d){if(b.hasOwnProperty("selector")||(b=a(b)),!b.length)return!1;var e=this,f=function(a){var b=this.attributes["data-href"].value.substr(this.attributes["data-href"].value.indexOf("#")+1)-1,c=b<e.__curIndex?"onPrev":"onNext";a.preventDefault(),"function"==typeof e.options[c]&&e.options[c].call(e),e.goTo(b,!0)};if(c&&c.length&&(e.__pgnClass=c),!b.find("."+e.__pgnClass).length)for(var g=0;g++<e.items.length;)b[0].innerHTML+=g===e.__curIndex+1?["<a data-href='#",g,"' class='",e.__pgnClass," ",e.__pgnClass+"_active"," ",d||"","'>","</a>"].join(""):["<a data-href='#",g,"' class='",e.__pgnClass," ",d||"","'>","</a>"].join("");return b[0].className+=" "+e.__pgnClass+"_p"+(e.__curIndex+1),e.__pgnContainer=b.on("click"+e.__eventNS,"."+e.__pgnClass,f),e},goNext:function(a){return this.goTo(this.__curIndex+1,a)},goPrev:function(a){return this.goTo(this.__curIndex-1,a)},goTo:function(a,b){if(a===this.__curIndex)return this;var c=this,d=c.options,e=!1,f=0,g=c.__curIndex;return a=c.__nextIndex(a),e=a<c.__curIndex,Math.abs(a-c.__curIndex)>1&&(g=c.__nextIndex(e?a+1:a-1,!0)),f=c.__nextIndex(e?a-1:a+1,!0),c.__pgnContainer&&c.__changePaginationLink(a,g),b&&c.stopAutoplay(),c.items.removeClass(d.prevClass+" "+d.nextClass)[a].className+=" "+(e?d.prevClass:d.nextClass),c.__current.removeClass(d.currentClass),c.items.length>1&&(c.items[g].className+=" "+(e?d.nextClass:d.prevClass)),c.__current=c.items.eq(a).removeClass(e?d.prevClass:d.nextClass).addClass(d.currentClass),c.items[f].className+=" "+(e?d.prevClass:d.nextClass),c.__curIndex=a,c},setAutoplay:function(a){var b=this;return(a=parseInt(a))&&(b.options.autoplayDelay=a),b.stopAutoplay().__timerID=setInterval(function(){b.goNext(!1)},b.options.autoplayDelay),b.options.autoplay=!0,b},stopAutoplay:function(){var a=this;return a.__timerID&&(clearInterval(a.__timerID),a.__timerID=a.options.autoplay=!1),a},init:function(b,c){var d=this,e=(d.__container||c).data("ASEngine");return d.options=a.extend({},e?e.options:d.defaultOptions,b),d.items=(d.__container=d.__container||c).find(d.options.itemsSelector),0===d.items.length?!1:(d.__current=d.items.first().addClass(d.options.currentClass),d.items.length>1&&(d.items[1].className+=" "+d.options.nextClass),d.items.length>2&&(d.items[d.items.length-1].className+=" "+d.options.prevClass),d.__curIndex=0,d.__removeEventHandlers().__addEventHandlers(),d)}},a.fn.ASE=function(a){var c=new b(a,this);return c.__indexInArray=(window.ASESliders=window.ASESliders||[]).push(c)-1,this.data("ASEngine",c),c}}(jQuery);